REM Este script localiza todas as tabelas que enviam sua PK para uma
REM determinada tabela
REM 
SET VERIFY OFF
COLUMN TABLE_NAME FORMAT A20
COLUMN COLUMN_NAME FORMAT A19
COLUMN CONSTRAINT_NAME FORMAT A20
COLUMN R_CONSTRAINT_NAME FORMAT A20

SELECT A.TABLE_NAME, A.COLUMN_NAME, B.CONSTRAINT_NAME, B.TABLE_NAME
FROM USER_CONS_COLUMNS A , USER_CONSTRAINTS B
WHERE (A.constraint_name,B.constraint_name) IN 
	(SELECT r_constraint_name,constraint_name FROM USER_CONSTRAINTS
	WHERE table_name='&table' AND r_constraint_name IS NOT NULL)
AND A.CONSTRAINT_NAME = B.R_CONSTRAINT_NAME
/
